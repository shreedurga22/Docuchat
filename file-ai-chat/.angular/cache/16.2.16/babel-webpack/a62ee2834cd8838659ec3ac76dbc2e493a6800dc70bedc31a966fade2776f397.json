{"ast":null,"code":"import _asyncToGenerator from \"D:/L&T projects/file-ai-chat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from '@angular/core';\nimport { computed, ChangeDetectionStrategy, Component, InjectionToken, Pipe, PLATFORM_ID, Inject, Optional, Injectable, EventEmitter, Output, Input, SecurityContext, NgModule } from '@angular/core';\nimport { toSignal } from '@angular/core/rxjs-interop';\nimport { Subject, merge, of, timer } from 'rxjs';\nimport { switchMap, mapTo, distinctUntilChanged, shareReplay, map, takeUntil, first } from 'rxjs/operators';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Renderer, marked } from 'marked';\nexport { Renderer as MarkedRenderer } from 'marked';\nimport * as i1 from '@angular/common/http';\nimport * as i2 from '@angular/platform-browser';\nconst _c0 = [\"*\"];\nconst BUTTON_TEXT_COPY = 'Copy';\nconst BUTTON_TEXT_COPIED = 'Copied';\nclass ClipboardButtonComponent {\n  constructor() {\n    this._buttonClick$ = new Subject();\n    this.copied = toSignal(this._buttonClick$.pipe(switchMap(() => merge(of(true), timer(3000).pipe(mapTo(false)))), distinctUntilChanged(), shareReplay(1)));\n    this.copiedText = computed(() => this.copied() ? BUTTON_TEXT_COPIED : BUTTON_TEXT_COPY);\n  }\n  onCopyToClipboardClick() {\n    this._buttonClick$.next();\n  }\n  static {\n    this.ɵfac = function ClipboardButtonComponent_Factory(t) {\n      return new (t || ClipboardButtonComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ClipboardButtonComponent,\n      selectors: [[\"markdown-clipboard\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 2,\n      vars: 3,\n      consts: [[1, \"markdown-clipboard-button\", 3, \"click\"]],\n      template: function ClipboardButtonComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"button\", 0);\n          i0.ɵɵlistener(\"click\", function ClipboardButtonComponent_Template_button_click_0_listener() {\n            return ctx.onCopyToClipboardClick();\n          });\n          i0.ɵɵtext(1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"copied\", ctx.copied());\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate(ctx.copiedText());\n        }\n      },\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ClipboardButtonComponent, [{\n    type: Component,\n    args: [{\n      selector: 'markdown-clipboard',\n      template: `\n    <button\n      class=\"markdown-clipboard-button\"\n      [class.copied]=\"copied()\"\n      (click)=\"onCopyToClipboardClick()\"\n    >{{ copiedText() }}</button>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], null, null);\n})();\nconst CLIPBOARD_OPTIONS = new InjectionToken('CLIPBOARD_OPTIONS');\n\n/* eslint-disable */\nclass KatexSpecificOptions {}\nclass LanguagePipe {\n  transform(value, language) {\n    if (value == null) {\n      value = '';\n    }\n    if (language == null) {\n      language = '';\n    }\n    if (typeof value !== 'string') {\n      console.error(`LanguagePipe has been invoked with an invalid value type [${typeof value}]`);\n      return value;\n    }\n    if (typeof language !== 'string') {\n      console.error(`LanguagePipe has been invoked with an invalid parameter [${typeof language}]`);\n      return value;\n    }\n    return '```' + language + '\\n' + value + '\\n```';\n  }\n  static {\n    this.ɵfac = function LanguagePipe_Factory(t) {\n      return new (t || LanguagePipe)();\n    };\n  }\n  static {\n    this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n      name: \"language\",\n      type: LanguagePipe,\n      pure: true,\n      standalone: true\n    });\n  }\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LanguagePipe, [{\n    type: Pipe,\n    args: [{\n      name: 'language'\n    }]\n  }], null, null);\n})();\nvar PrismPlugin;\n(function (PrismPlugin) {\n  PrismPlugin[\"CommandLine\"] = \"command-line\";\n  PrismPlugin[\"LineHighlight\"] = \"line-highlight\";\n  PrismPlugin[\"LineNumbers\"] = \"line-numbers\";\n})(PrismPlugin || (PrismPlugin = {}));\nconst MARKED_EXTENSIONS = new InjectionToken('MARKED_EXTENSIONS');\nconst MARKED_OPTIONS = new InjectionToken('MARKED_OPTIONS');\nconst MERMAID_OPTIONS = new InjectionToken('MERMAID_OPTIONS');\nconst errorJoyPixelsNotLoaded = '[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information';\nconst errorKatexNotLoaded = '[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information';\nconst errorMermaidNotLoaded = '[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information';\nconst errorClipboardNotLoaded = '[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information';\nconst errorClipboardViewContainerRequired = '[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function';\nconst errorSrcWithoutHttpClient = '[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information';\nconst SECURITY_CONTEXT = new InjectionToken('SECURITY_CONTEXT');\nclass ExtendedRenderer extends Renderer {\n  constructor() {\n    super(...arguments);\n    this.ɵNgxMarkdownRendererExtendedForExtensions = false;\n    this.ɵNgxMarkdownRendererExtendedForMermaid = false;\n  }\n}\nclass MarkdownService {\n  get options() {\n    return this._options;\n  }\n  set options(value) {\n    this._options = {\n      ...this.DEFAULT_MARKED_OPTIONS,\n      ...value\n    };\n  }\n  get renderer() {\n    return this.options.renderer;\n  }\n  set renderer(value) {\n    this.options.renderer = value;\n  }\n  constructor(clipboardOptions, extensions, options, mermaidOptions, platform, securityContext, http, sanitizer) {\n    this.clipboardOptions = clipboardOptions;\n    this.extensions = extensions;\n    this.mermaidOptions = mermaidOptions;\n    this.platform = platform;\n    this.securityContext = securityContext;\n    this.http = http;\n    this.sanitizer = sanitizer;\n    this.DEFAULT_MARKED_OPTIONS = {\n      renderer: new Renderer()\n    };\n    this.DEFAULT_KATEX_OPTIONS = {\n      delimiters: [{\n        left: '$$',\n        right: '$$',\n        display: true\n      }, {\n        left: '$',\n        right: '$',\n        display: false\n      }, {\n        left: '\\\\(',\n        right: '\\\\)',\n        display: false\n      }, {\n        left: '\\\\begin{equation}',\n        right: '\\\\end{equation}',\n        display: true\n      }, {\n        left: '\\\\begin{align}',\n        right: '\\\\end{align}',\n        display: true\n      }, {\n        left: '\\\\begin{alignat}',\n        right: '\\\\end{alignat}',\n        display: true\n      }, {\n        left: '\\\\begin{gather}',\n        right: '\\\\end{gather}',\n        display: true\n      }, {\n        left: '\\\\begin{CD}',\n        right: '\\\\end{CD}',\n        display: true\n      }, {\n        left: '\\\\[',\n        right: '\\\\]',\n        display: true\n      }]\n    };\n    this.DEFAULT_MERMAID_OPTIONS = {\n      startOnLoad: false\n    };\n    this.DEFAULT_CLIPBOARD_OPTIONS = {\n      buttonComponent: undefined\n    };\n    this.DEFAULT_PARSE_OPTIONS = {\n      decodeHtml: false,\n      inline: false,\n      emoji: false,\n      mermaid: false,\n      markedOptions: undefined,\n      disableSanitizer: false\n    };\n    this.DEFAULT_RENDER_OPTIONS = {\n      clipboard: false,\n      clipboardOptions: undefined,\n      katex: false,\n      katexOptions: undefined,\n      mermaid: false,\n      mermaidOptions: undefined\n    };\n    this._reload$ = new Subject();\n    this.reload$ = this._reload$.asObservable();\n    this.options = options;\n  }\n  parse(markdown, parseOptions = this.DEFAULT_PARSE_OPTIONS) {\n    const {\n      decodeHtml,\n      inline,\n      emoji,\n      mermaid,\n      disableSanitizer\n    } = parseOptions;\n    const markedOptions = {\n      ...this.options,\n      ...parseOptions.markedOptions\n    };\n    const renderer = markedOptions.renderer || this.renderer || new Renderer();\n    if (this.extensions) {\n      this.renderer = this.extendsRendererForExtensions(renderer);\n    }\n    if (mermaid) {\n      this.renderer = this.extendsRendererForMermaid(renderer);\n    }\n    const trimmed = this.trimIndentation(markdown);\n    const decoded = decodeHtml ? this.decodeHtml(trimmed) : trimmed;\n    const emojified = emoji ? this.parseEmoji(decoded) : decoded;\n    const marked = this.parseMarked(emojified, markedOptions, inline);\n    const sanitized = disableSanitizer ? marked : this.sanitizer.sanitize(this.securityContext, marked);\n    return sanitized || '';\n  }\n  render(element, options = this.DEFAULT_RENDER_OPTIONS, viewContainerRef) {\n    const {\n      clipboard,\n      clipboardOptions,\n      katex,\n      katexOptions,\n      mermaid,\n      mermaidOptions\n    } = options;\n    if (katex) {\n      this.renderKatex(element, {\n        ...this.DEFAULT_KATEX_OPTIONS,\n        ...katexOptions\n      });\n    }\n    if (mermaid) {\n      this.renderMermaid(element, {\n        ...this.DEFAULT_MERMAID_OPTIONS,\n        ...this.mermaidOptions,\n        ...mermaidOptions\n      });\n    }\n    if (clipboard) {\n      this.renderClipboard(element, viewContainerRef, {\n        ...this.DEFAULT_CLIPBOARD_OPTIONS,\n        ...this.clipboardOptions,\n        ...clipboardOptions\n      });\n    }\n    this.highlight(element);\n  }\n  reload() {\n    this._reload$.next();\n  }\n  getSource(src) {\n    if (!this.http) {\n      throw new Error(errorSrcWithoutHttpClient);\n    }\n    return this.http.get(src, {\n      responseType: 'text'\n    }).pipe(map(markdown => this.handleExtension(src, markdown)));\n  }\n  highlight(element) {\n    if (!isPlatformBrowser(this.platform)) {\n      return;\n    }\n    if (typeof Prism === 'undefined' || typeof Prism.highlightAllUnder === 'undefined') {\n      return;\n    }\n    if (!element) {\n      element = document;\n    }\n    const noLanguageElements = element.querySelectorAll('pre code:not([class*=\"language-\"])');\n    Array.prototype.forEach.call(noLanguageElements, x => x.classList.add('language-none'));\n    Prism.highlightAllUnder(element);\n  }\n  decodeHtml(html) {\n    if (!isPlatformBrowser(this.platform)) {\n      return html;\n    }\n    const textarea = document.createElement('textarea');\n    textarea.innerHTML = html;\n    return textarea.value;\n  }\n  extendsRendererForExtensions(renderer) {\n    const extendedRenderer = renderer;\n    if (extendedRenderer.ɵNgxMarkdownRendererExtendedForExtensions === true) {\n      return renderer;\n    }\n    if (this.extensions?.length > 0) {\n      marked.use(...this.extensions);\n    }\n    extendedRenderer.ɵNgxMarkdownRendererExtendedForExtensions = true;\n    return renderer;\n  }\n  extendsRendererForMermaid(renderer) {\n    const extendedRenderer = renderer;\n    if (extendedRenderer.ɵNgxMarkdownRendererExtendedForMermaid === true) {\n      return renderer;\n    }\n    const defaultCode = renderer.code;\n    renderer.code = token => {\n      return token.lang === 'mermaid' ? `<div class=\"mermaid\">${token.text}</div>` : defaultCode(token);\n    };\n    extendedRenderer.ɵNgxMarkdownRendererExtendedForMermaid = true;\n    return renderer;\n  }\n  handleExtension(src, markdown) {\n    const urlProtocolIndex = src.lastIndexOf('://');\n    const urlWithoutProtocol = urlProtocolIndex > -1 ? src.substring(urlProtocolIndex + 4) : src;\n    const lastSlashIndex = urlWithoutProtocol.lastIndexOf('/');\n    const lastUrlSegment = lastSlashIndex > -1 ? urlWithoutProtocol.substring(lastSlashIndex + 1).split('?')[0] : '';\n    const lastDotIndex = lastUrlSegment.lastIndexOf('.');\n    const extension = lastDotIndex > -1 ? lastUrlSegment.substring(lastDotIndex + 1) : '';\n    return !!extension && extension !== 'md' ? '```' + extension + '\\n' + markdown + '\\n```' : markdown;\n  }\n  parseMarked(html, markedOptions, inline = false) {\n    if (markedOptions.renderer) {\n      // clone renderer and remove extended flags otherwise\n      // marked throws an error thinking it is a renderer prop\n      const renderer = {\n        ...markedOptions.renderer\n      };\n      delete renderer.ɵNgxMarkdownRendererExtendedForExtensions;\n      delete renderer.ɵNgxMarkdownRendererExtendedForMermaid;\n      // remove renderer from markedOptions because if renderer is\n      // passed to marked.parse method, it will ignore all extensions\n      delete markedOptions.renderer;\n      marked.use({\n        renderer\n      });\n    }\n    return inline ? marked.parseInline(html, markedOptions) : marked.parse(html, markedOptions);\n  }\n  parseEmoji(html) {\n    if (!isPlatformBrowser(this.platform)) {\n      return html;\n    }\n    if (typeof joypixels === 'undefined' || typeof joypixels.shortnameToUnicode === 'undefined') {\n      throw new Error(errorJoyPixelsNotLoaded);\n    }\n    return joypixels.shortnameToUnicode(html);\n  }\n  renderKatex(element, options) {\n    if (!isPlatformBrowser(this.platform)) {\n      return;\n    }\n    if (typeof katex === 'undefined' || typeof renderMathInElement === 'undefined') {\n      throw new Error(errorKatexNotLoaded);\n    }\n    renderMathInElement(element, options);\n  }\n  renderClipboard(element, viewContainerRef, options) {\n    if (!isPlatformBrowser(this.platform)) {\n      return;\n    }\n    if (typeof ClipboardJS === 'undefined') {\n      throw new Error(errorClipboardNotLoaded);\n    }\n    if (!viewContainerRef) {\n      throw new Error(errorClipboardViewContainerRequired);\n    }\n    const {\n      buttonComponent,\n      buttonTemplate\n    } = options;\n    // target every <pre> elements\n    const preElements = element.querySelectorAll('pre');\n    for (let i = 0; i < preElements.length; i++) {\n      const preElement = preElements.item(i);\n      // create <pre> wrapper element\n      const preWrapperElement = document.createElement('div');\n      preWrapperElement.style.position = 'relative';\n      preElement.parentNode.insertBefore(preWrapperElement, preElement);\n      preWrapperElement.appendChild(preElement);\n      // create toolbar element\n      const toolbarWrapperElement = document.createElement('div');\n      toolbarWrapperElement.classList.add('markdown-clipboard-toolbar');\n      toolbarWrapperElement.style.position = 'absolute';\n      toolbarWrapperElement.style.top = '.5em';\n      toolbarWrapperElement.style.right = '.5em';\n      toolbarWrapperElement.style.zIndex = '1';\n      preWrapperElement.insertAdjacentElement('beforeend', toolbarWrapperElement);\n      // register listener to show/hide toolbar\n      preWrapperElement.onmouseenter = () => toolbarWrapperElement.classList.add('hover');\n      preWrapperElement.onmouseleave = () => toolbarWrapperElement.classList.remove('hover');\n      // declare embeddedViewRef holding variable\n      let embeddedViewRef;\n      // use provided component via input property\n      // or provided via ClipboardOptions provider\n      if (buttonComponent) {\n        const componentRef = viewContainerRef.createComponent(buttonComponent);\n        embeddedViewRef = componentRef.hostView;\n        componentRef.changeDetectorRef.markForCheck();\n      }\n      // use provided template via input property\n      else if (buttonTemplate) {\n        embeddedViewRef = viewContainerRef.createEmbeddedView(buttonTemplate);\n      }\n      // use default component\n      else {\n        const componentRef = viewContainerRef.createComponent(ClipboardButtonComponent);\n        embeddedViewRef = componentRef.hostView;\n        componentRef.changeDetectorRef.markForCheck();\n      }\n      // declare clipboard instance variable\n      let clipboardInstance;\n      // attach clipboard.js to root node\n      embeddedViewRef.rootNodes.forEach(node => {\n        toolbarWrapperElement.appendChild(node);\n        clipboardInstance = new ClipboardJS(node, {\n          text: () => preElement.innerText\n        });\n      });\n      // destroy clipboard instance when view is destroyed\n      embeddedViewRef.onDestroy(() => clipboardInstance.destroy());\n    }\n  }\n  renderMermaid(element, options = this.DEFAULT_MERMAID_OPTIONS) {\n    if (!isPlatformBrowser(this.platform)) {\n      return;\n    }\n    if (typeof mermaid === 'undefined' || typeof mermaid.initialize === 'undefined') {\n      throw new Error(errorMermaidNotLoaded);\n    }\n    const mermaidElements = element.querySelectorAll('.mermaid');\n    if (mermaidElements.length === 0) {\n      return;\n    }\n    mermaid.initialize(options);\n    mermaid.run({\n      nodes: mermaidElements\n    });\n  }\n  trimIndentation(markdown) {\n    if (!markdown) {\n      return '';\n    }\n    let indentStart;\n    return markdown.split('\\n').map(line => {\n      let lineIdentStart = indentStart;\n      if (line.length > 0) {\n        lineIdentStart = isNaN(lineIdentStart) ? line.search(/\\S|$/) : Math.min(line.search(/\\S|$/), lineIdentStart);\n      }\n      if (isNaN(indentStart)) {\n        indentStart = lineIdentStart;\n      }\n      return lineIdentStart ? line.substring(lineIdentStart) : line;\n    }).join('\\n');\n  }\n  static {\n    this.ɵfac = function MarkdownService_Factory(t) {\n      return new (t || MarkdownService)(i0.ɵɵinject(CLIPBOARD_OPTIONS, 8), i0.ɵɵinject(MARKED_EXTENSIONS, 8), i0.ɵɵinject(MARKED_OPTIONS, 8), i0.ɵɵinject(MERMAID_OPTIONS, 8), i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(SECURITY_CONTEXT), i0.ɵɵinject(i1.HttpClient, 8), i0.ɵɵinject(i2.DomSanitizer));\n    };\n  }\n  static {\n    this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: MarkdownService,\n      factory: MarkdownService.ɵfac\n    });\n  }\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MarkdownService, [{\n    type: Injectable\n  }], () => [{\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [CLIPBOARD_OPTIONS]\n    }, {\n      type: Optional\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [MARKED_EXTENSIONS]\n    }, {\n      type: Optional\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [MARKED_OPTIONS]\n    }, {\n      type: Optional\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [MERMAID_OPTIONS]\n    }, {\n      type: Optional\n    }]\n  }, {\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: i0.SecurityContext,\n    decorators: [{\n      type: Inject,\n      args: [SECURITY_CONTEXT]\n    }]\n  }, {\n    type: i1.HttpClient,\n    decorators: [{\n      type: Optional\n    }]\n  }, {\n    type: i2.DomSanitizer\n  }], null);\n})();\nclass MarkdownComponent {\n  get disableSanitizer() {\n    return this._disableSanitizer;\n  }\n  set disableSanitizer(value) {\n    this._disableSanitizer = this.coerceBooleanProperty(value);\n  }\n  get inline() {\n    return this._inline;\n  }\n  set inline(value) {\n    this._inline = this.coerceBooleanProperty(value);\n  }\n  // Plugin - clipboard\n  get clipboard() {\n    return this._clipboard;\n  }\n  set clipboard(value) {\n    this._clipboard = this.coerceBooleanProperty(value);\n  }\n  // Plugin - emoji\n  get emoji() {\n    return this._emoji;\n  }\n  set emoji(value) {\n    this._emoji = this.coerceBooleanProperty(value);\n  }\n  // Plugin - katex\n  get katex() {\n    return this._katex;\n  }\n  set katex(value) {\n    this._katex = this.coerceBooleanProperty(value);\n  }\n  // Plugin - mermaid\n  get mermaid() {\n    return this._mermaid;\n  }\n  set mermaid(value) {\n    this._mermaid = this.coerceBooleanProperty(value);\n  }\n  // Plugin - lineHighlight\n  get lineHighlight() {\n    return this._lineHighlight;\n  }\n  set lineHighlight(value) {\n    this._lineHighlight = this.coerceBooleanProperty(value);\n  }\n  // Plugin - lineNumbers\n  get lineNumbers() {\n    return this._lineNumbers;\n  }\n  set lineNumbers(value) {\n    this._lineNumbers = this.coerceBooleanProperty(value);\n  }\n  // Plugin - commandLine\n  get commandLine() {\n    return this._commandLine;\n  }\n  set commandLine(value) {\n    this._commandLine = this.coerceBooleanProperty(value);\n  }\n  constructor(element, markdownService, viewContainerRef) {\n    this.element = element;\n    this.markdownService = markdownService;\n    this.viewContainerRef = viewContainerRef;\n    // Event emitters\n    this.error = new EventEmitter();\n    this.load = new EventEmitter();\n    this.ready = new EventEmitter();\n    this._clipboard = false;\n    this._commandLine = false;\n    this._disableSanitizer = false;\n    this._emoji = false;\n    this._inline = false;\n    this._katex = false;\n    this._lineHighlight = false;\n    this._lineNumbers = false;\n    this._mermaid = false;\n    this.destroyed$ = new Subject();\n  }\n  ngOnChanges() {\n    this.loadContent();\n  }\n  loadContent() {\n    if (this.data != null) {\n      this.handleData();\n      return;\n    }\n    if (this.src != null) {\n      this.handleSrc();\n      return;\n    }\n  }\n  ngAfterViewInit() {\n    if (!this.data && !this.src) {\n      this.handleTransclusion();\n    }\n    this.markdownService.reload$.pipe(takeUntil(this.destroyed$)).subscribe(() => this.loadContent());\n  }\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n  render(_x) {\n    var _this = this;\n    return _asyncToGenerator(function* (markdown, decodeHtml = false) {\n      const parsedOptions = {\n        decodeHtml,\n        inline: _this.inline,\n        emoji: _this.emoji,\n        mermaid: _this.mermaid,\n        disableSanitizer: _this.disableSanitizer\n      };\n      const renderOptions = {\n        clipboard: _this.clipboard,\n        clipboardOptions: _this.getClipboardOptions(),\n        katex: _this.katex,\n        katexOptions: _this.katexOptions,\n        mermaid: _this.mermaid,\n        mermaidOptions: _this.mermaidOptions\n      };\n      const parsed = yield _this.markdownService.parse(markdown, parsedOptions);\n      _this.element.nativeElement.innerHTML = parsed;\n      _this.handlePlugins();\n      _this.markdownService.render(_this.element.nativeElement, renderOptions, _this.viewContainerRef);\n      _this.ready.emit();\n    }).apply(this, arguments);\n  }\n  coerceBooleanProperty(value) {\n    return value != null && `${String(value)}` !== 'false';\n  }\n  getClipboardOptions() {\n    if (this.clipboardButtonComponent || this.clipboardButtonTemplate) {\n      return {\n        buttonComponent: this.clipboardButtonComponent,\n        buttonTemplate: this.clipboardButtonTemplate\n      };\n    }\n    return undefined;\n  }\n  handleData() {\n    this.render(this.data);\n  }\n  handleSrc() {\n    this.markdownService.getSource(this.src).subscribe({\n      next: markdown => {\n        this.render(markdown).then(() => {\n          this.load.emit(markdown);\n        });\n      },\n      error: error => this.error.emit(error)\n    });\n  }\n  handleTransclusion() {\n    this.render(this.element.nativeElement.innerHTML, true);\n  }\n  handlePlugins() {\n    if (this.commandLine) {\n      this.setPluginClass(this.element.nativeElement, PrismPlugin.CommandLine);\n      this.setPluginOptions(this.element.nativeElement, {\n        dataFilterOutput: this.filterOutput,\n        dataHost: this.host,\n        dataPrompt: this.prompt,\n        dataOutput: this.output,\n        dataUser: this.user\n      });\n    }\n    if (this.lineHighlight) {\n      this.setPluginOptions(this.element.nativeElement, {\n        dataLine: this.line,\n        dataLineOffset: this.lineOffset\n      });\n    }\n    if (this.lineNumbers) {\n      this.setPluginClass(this.element.nativeElement, PrismPlugin.LineNumbers);\n      this.setPluginOptions(this.element.nativeElement, {\n        dataStart: this.start\n      });\n    }\n  }\n  setPluginClass(element, plugin) {\n    const preElements = element.querySelectorAll('pre');\n    for (let i = 0; i < preElements.length; i++) {\n      const classes = plugin instanceof Array ? plugin : [plugin];\n      preElements.item(i).classList.add(...classes);\n    }\n  }\n  setPluginOptions(element, options) {\n    const preElements = element.querySelectorAll('pre');\n    for (let i = 0; i < preElements.length; i++) {\n      Object.keys(options).forEach(option => {\n        const attributeValue = options[option];\n        if (attributeValue) {\n          const attributeName = this.toLispCase(option);\n          preElements.item(i).setAttribute(attributeName, attributeValue.toString());\n        }\n      });\n    }\n  }\n  toLispCase(value) {\n    const upperChars = value.match(/([A-Z])/g);\n    if (!upperChars) {\n      return value;\n    }\n    let str = value.toString();\n    for (let i = 0, n = upperChars.length; i < n; i++) {\n      str = str.replace(new RegExp(upperChars[i]), '-' + upperChars[i].toLowerCase());\n    }\n    if (str.slice(0, 1) === '-') {\n      str = str.slice(1);\n    }\n    return str;\n  }\n  static {\n    this.ɵfac = function MarkdownComponent_Factory(t) {\n      return new (t || MarkdownComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(MarkdownService), i0.ɵɵdirectiveInject(i0.ViewContainerRef));\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: MarkdownComponent,\n      selectors: [[\"markdown\"], [\"\", \"markdown\", \"\"]],\n      inputs: {\n        data: \"data\",\n        src: \"src\",\n        disableSanitizer: \"disableSanitizer\",\n        inline: \"inline\",\n        clipboard: \"clipboard\",\n        clipboardButtonComponent: \"clipboardButtonComponent\",\n        clipboardButtonTemplate: \"clipboardButtonTemplate\",\n        emoji: \"emoji\",\n        katex: \"katex\",\n        katexOptions: \"katexOptions\",\n        mermaid: \"mermaid\",\n        mermaidOptions: \"mermaidOptions\",\n        lineHighlight: \"lineHighlight\",\n        line: \"line\",\n        lineOffset: \"lineOffset\",\n        lineNumbers: \"lineNumbers\",\n        start: \"start\",\n        commandLine: \"commandLine\",\n        filterOutput: \"filterOutput\",\n        host: \"host\",\n        prompt: \"prompt\",\n        output: \"output\",\n        user: \"user\"\n      },\n      outputs: {\n        error: \"error\",\n        load: \"load\",\n        ready: \"ready\"\n      },\n      standalone: true,\n      features: [i0.ɵɵNgOnChangesFeature, i0.ɵɵStandaloneFeature],\n      ngContentSelectors: _c0,\n      decls: 1,\n      vars: 0,\n      template: function MarkdownComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef();\n          i0.ɵɵprojection(0);\n        }\n      },\n      encapsulation: 2\n    });\n  }\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MarkdownComponent, [{\n    type: Component,\n    args: [{\n      // eslint-disable-next-line @angular-eslint/component-selector\n      selector: 'markdown, [markdown]',\n      template: '<ng-content></ng-content>'\n    }]\n  }], () => [{\n    type: i0.ElementRef\n  }, {\n    type: MarkdownService\n  }, {\n    type: i0.ViewContainerRef\n  }], {\n    data: [{\n      type: Input\n    }],\n    src: [{\n      type: Input\n    }],\n    disableSanitizer: [{\n      type: Input\n    }],\n    inline: [{\n      type: Input\n    }],\n    clipboard: [{\n      type: Input\n    }],\n    clipboardButtonComponent: [{\n      type: Input\n    }],\n    clipboardButtonTemplate: [{\n      type: Input\n    }],\n    emoji: [{\n      type: Input\n    }],\n    katex: [{\n      type: Input\n    }],\n    katexOptions: [{\n      type: Input\n    }],\n    mermaid: [{\n      type: Input\n    }],\n    mermaidOptions: [{\n      type: Input\n    }],\n    lineHighlight: [{\n      type: Input\n    }],\n    line: [{\n      type: Input\n    }],\n    lineOffset: [{\n      type: Input\n    }],\n    lineNumbers: [{\n      type: Input\n    }],\n    start: [{\n      type: Input\n    }],\n    commandLine: [{\n      type: Input\n    }],\n    filterOutput: [{\n      type: Input\n    }],\n    host: [{\n      type: Input\n    }],\n    prompt: [{\n      type: Input\n    }],\n    output: [{\n      type: Input\n    }],\n    user: [{\n      type: Input\n    }],\n    error: [{\n      type: Output\n    }],\n    load: [{\n      type: Output\n    }],\n    ready: [{\n      type: Output\n    }]\n  });\n})();\nclass MarkdownPipe {\n  constructor(domSanitizer, elementRef, markdownService, viewContainerRef, zone) {\n    this.domSanitizer = domSanitizer;\n    this.elementRef = elementRef;\n    this.markdownService = markdownService;\n    this.viewContainerRef = viewContainerRef;\n    this.zone = zone;\n  }\n  transform(value, options) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (value == null) {\n        return '';\n      }\n      if (typeof value !== 'string') {\n        console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof value}]`);\n        return value;\n      }\n      const markdown = yield _this2.markdownService.parse(value, options);\n      _this2.zone.onStable.pipe(first()).subscribe(() => _this2.markdownService.render(_this2.elementRef.nativeElement, options, _this2.viewContainerRef));\n      return _this2.domSanitizer.bypassSecurityTrustHtml(markdown);\n    })();\n  }\n  static {\n    this.ɵfac = function MarkdownPipe_Factory(t) {\n      return new (t || MarkdownPipe)(i0.ɵɵdirectiveInject(i2.DomSanitizer, 16), i0.ɵɵdirectiveInject(i0.ElementRef, 16), i0.ɵɵdirectiveInject(MarkdownService, 16), i0.ɵɵdirectiveInject(i0.ViewContainerRef, 16), i0.ɵɵdirectiveInject(i0.NgZone, 16));\n    };\n  }\n  static {\n    this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n      name: \"markdown\",\n      type: MarkdownPipe,\n      pure: true,\n      standalone: true\n    });\n  }\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MarkdownPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'markdown'\n    }]\n  }], () => [{\n    type: i2.DomSanitizer\n  }, {\n    type: i0.ElementRef\n  }, {\n    type: MarkdownService\n  }, {\n    type: i0.ViewContainerRef\n  }, {\n    type: i0.NgZone\n  }], null);\n})();\nfunction provideMarkdown(markdownModuleConfig) {\n  return [MarkdownService, markdownModuleConfig?.loader ?? [], markdownModuleConfig?.clipboardOptions ?? [], markdownModuleConfig?.markedOptions ?? [], markdownModuleConfig?.mermaidOptions ?? [], markdownModuleConfig?.markedExtensions ?? [], {\n    provide: SECURITY_CONTEXT,\n    useValue: markdownModuleConfig?.sanitize ?? SecurityContext.HTML\n  }];\n}\n;\n;\nconst sharedDeclarations = [ClipboardButtonComponent, LanguagePipe, MarkdownComponent, MarkdownPipe];\nclass MarkdownModule {\n  static forRoot(markdownModuleConfig) {\n    return {\n      ngModule: MarkdownModule,\n      providers: [provideMarkdown(markdownModuleConfig)]\n    };\n  }\n  static forChild() {\n    return {\n      ngModule: MarkdownModule\n    };\n  }\n  static {\n    this.ɵfac = function MarkdownModule_Factory(t) {\n      return new (t || MarkdownModule)();\n    };\n  }\n  static {\n    this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: MarkdownModule\n    });\n  }\n  static {\n    this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  }\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MarkdownModule, [{\n    type: NgModule,\n    args: [{\n      imports: sharedDeclarations,\n      exports: sharedDeclarations\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CLIPBOARD_OPTIONS, ClipboardButtonComponent, ExtendedRenderer, KatexSpecificOptions, LanguagePipe, MARKED_EXTENSIONS, MARKED_OPTIONS, MERMAID_OPTIONS, MarkdownComponent, MarkdownModule, MarkdownPipe, MarkdownService, PrismPlugin, SECURITY_CONTEXT, errorClipboardNotLoaded, errorClipboardViewContainerRequired, errorJoyPixelsNotLoaded, errorKatexNotLoaded, errorMermaidNotLoaded, errorSrcWithoutHttpClient, provideMarkdown };","map":{"version":3,"names":["i0","computed","ChangeDetectionStrategy","Component","InjectionToken","Pipe","PLATFORM_ID","Inject","Optional","Injectable","EventEmitter","Output","Input","SecurityContext","NgModule","toSignal","Subject","merge","of","timer","switchMap","mapTo","distinctUntilChanged","shareReplay","map","takeUntil","first","isPlatformBrowser","Renderer","marked","MarkedRenderer","i1","i2","_c0","BUTTON_TEXT_COPY","BUTTON_TEXT_COPIED","ClipboardButtonComponent","constructor","_buttonClick$","copied","pipe","copiedText","onCopyToClipboardClick","next","ɵfac","ClipboardButtonComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ClipboardButtonComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","ClipboardButtonComponent_Template_button_click_0_listener","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","ɵɵadvance","ɵɵtextInterpolate","encapsulation","changeDetection","ngDevMode","ɵsetClassMetadata","args","selector","OnPush","CLIPBOARD_OPTIONS","KatexSpecificOptions","LanguagePipe","transform","value","language","console","error","LanguagePipe_Factory","ɵpipe","ɵɵdefinePipe","name","pure","PrismPlugin","MARKED_EXTENSIONS","MARKED_OPTIONS","MERMAID_OPTIONS","errorJoyPixelsNotLoaded","errorKatexNotLoaded","errorMermaidNotLoaded","errorClipboardNotLoaded","errorClipboardViewContainerRequired","errorSrcWithoutHttpClient","SECURITY_CONTEXT","ExtendedRenderer","arguments","ɵNgxMarkdownRendererExtendedForExtensions","ɵNgxMarkdownRendererExtendedForMermaid","MarkdownService","options","_options","DEFAULT_MARKED_OPTIONS","renderer","clipboardOptions","extensions","mermaidOptions","platform","securityContext","http","sanitizer","DEFAULT_KATEX_OPTIONS","delimiters","left","right","display","DEFAULT_MERMAID_OPTIONS","startOnLoad","DEFAULT_CLIPBOARD_OPTIONS","buttonComponent","undefined","DEFAULT_PARSE_OPTIONS","decodeHtml","inline","emoji","mermaid","markedOptions","disableSanitizer","DEFAULT_RENDER_OPTIONS","clipboard","katex","katexOptions","_reload$","reload$","asObservable","parse","markdown","parseOptions","extendsRendererForExtensions","extendsRendererForMermaid","trimmed","trimIndentation","decoded","emojified","parseEmoji","parseMarked","sanitized","sanitize","render","element","viewContainerRef","renderKatex","renderMermaid","renderClipboard","highlight","reload","getSource","src","Error","get","responseType","handleExtension","Prism","highlightAllUnder","document","noLanguageElements","querySelectorAll","Array","prototype","forEach","call","x","classList","add","html","textarea","createElement","innerHTML","extendedRenderer","length","use","defaultCode","code","token","lang","text","urlProtocolIndex","lastIndexOf","urlWithoutProtocol","substring","lastSlashIndex","lastUrlSegment","split","lastDotIndex","extension","parseInline","joypixels","shortnameToUnicode","renderMathInElement","ClipboardJS","buttonTemplate","preElements","i","preElement","item","preWrapperElement","style","position","parentNode","insertBefore","appendChild","toolbarWrapperElement","top","zIndex","insertAdjacentElement","onmouseenter","onmouseleave","remove","embeddedViewRef","componentRef","createComponent","hostView","changeDetectorRef","markForCheck","createEmbeddedView","clipboardInstance","rootNodes","node","innerText","onDestroy","destroy","initialize","mermaidElements","run","nodes","indentStart","line","lineIdentStart","isNaN","search","Math","min","join","MarkdownService_Factory","ɵɵinject","HttpClient","DomSanitizer","ɵprov","ɵɵdefineInjectable","factory","decorators","Object","MarkdownComponent","_disableSanitizer","coerceBooleanProperty","_inline","_clipboard","_emoji","_katex","_mermaid","lineHighlight","_lineHighlight","lineNumbers","_lineNumbers","commandLine","_commandLine","markdownService","load","ready","destroyed$","ngOnChanges","loadContent","data","handleData","handleSrc","ngAfterViewInit","handleTransclusion","subscribe","ngOnDestroy","complete","_x","_this","_asyncToGenerator","parsedOptions","renderOptions","getClipboardOptions","parsed","nativeElement","handlePlugins","emit","apply","String","clipboardButtonComponent","clipboardButtonTemplate","then","setPluginClass","CommandLine","setPluginOptions","dataFilterOutput","filterOutput","dataHost","host","dataPrompt","prompt","dataOutput","output","dataUser","user","dataLine","dataLineOffset","lineOffset","LineNumbers","dataStart","start","plugin","classes","keys","option","attributeValue","attributeName","toLispCase","setAttribute","toString","upperChars","match","str","n","replace","RegExp","toLowerCase","slice","MarkdownComponent_Factory","ɵɵdirectiveInject","ElementRef","ViewContainerRef","inputs","outputs","ɵɵNgOnChangesFeature","ngContentSelectors","MarkdownComponent_Template","ɵɵprojectionDef","ɵɵprojection","MarkdownPipe","domSanitizer","elementRef","zone","_this2","onStable","bypassSecurityTrustHtml","MarkdownPipe_Factory","NgZone","provideMarkdown","markdownModuleConfig","loader","markedExtensions","provide","useValue","HTML","sharedDeclarations","MarkdownModule","forRoot","ngModule","providers","forChild","MarkdownModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","exports"],"sources":["D:/L&T projects/node_modules/ngx-markdown/fesm2022/ngx-markdown.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { computed, ChangeDetectionStrategy, Component, InjectionToken, Pipe, PLATFORM_ID, Inject, Optional, Injectable, EventEmitter, Output, Input, SecurityContext, NgModule } from '@angular/core';\nimport { toSignal } from '@angular/core/rxjs-interop';\nimport { Subject, merge, of, timer } from 'rxjs';\nimport { switchMap, mapTo, distinctUntilChanged, shareReplay, map, takeUntil, first } from 'rxjs/operators';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Renderer, marked } from 'marked';\nexport { Renderer as MarkedRenderer } from 'marked';\nimport * as i1 from '@angular/common/http';\nimport * as i2 from '@angular/platform-browser';\n\nconst BUTTON_TEXT_COPY = 'Copy';\nconst BUTTON_TEXT_COPIED = 'Copied';\nclass ClipboardButtonComponent {\n    constructor() {\n        this._buttonClick$ = new Subject();\n        this.copied = toSignal(this._buttonClick$.pipe(switchMap(() => merge(of(true), timer(3000).pipe(mapTo(false)))), distinctUntilChanged(), shareReplay(1)));\n        this.copiedText = computed(() => this.copied()\n            ? BUTTON_TEXT_COPIED\n            : BUTTON_TEXT_COPY);\n    }\n    onCopyToClipboardClick() {\n        this._buttonClick$.next();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: ClipboardButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.0.0\", type: ClipboardButtonComponent, isStandalone: true, selector: \"markdown-clipboard\", ngImport: i0, template: `\r\n    <button\r\n      class=\"markdown-clipboard-button\"\r\n      [class.copied]=\"copied()\"\r\n      (click)=\"onCopyToClipboardClick()\"\r\n    >{{ copiedText() }}</button>\r\n  `, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: ClipboardButtonComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'markdown-clipboard',\n                    template: `\r\n    <button\r\n      class=\"markdown-clipboard-button\"\r\n      [class.copied]=\"copied()\"\r\n      (click)=\"onCopyToClipboardClick()\"\r\n    >{{ copiedText() }}</button>\r\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }] });\n\nconst CLIPBOARD_OPTIONS = new InjectionToken('CLIPBOARD_OPTIONS');\n\n/* eslint-disable */\nclass KatexSpecificOptions {\n}\n\nclass LanguagePipe {\n    transform(value, language) {\n        if (value == null) {\n            value = '';\n        }\n        if (language == null) {\n            language = '';\n        }\n        if (typeof value !== 'string') {\n            console.error(`LanguagePipe has been invoked with an invalid value type [${typeof value}]`);\n            return value;\n        }\n        if (typeof language !== 'string') {\n            console.error(`LanguagePipe has been invoked with an invalid parameter [${typeof language}]`);\n            return value;\n        }\n        return '```' + language + '\\n' + value + '\\n```';\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: LanguagePipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }\n    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"20.0.0\", ngImport: i0, type: LanguagePipe, isStandalone: true, name: \"language\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: LanguagePipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'language',\n                }]\n        }] });\n\nvar PrismPlugin;\n(function (PrismPlugin) {\n    PrismPlugin[\"CommandLine\"] = \"command-line\";\n    PrismPlugin[\"LineHighlight\"] = \"line-highlight\";\n    PrismPlugin[\"LineNumbers\"] = \"line-numbers\";\n})(PrismPlugin || (PrismPlugin = {}));\n\nconst MARKED_EXTENSIONS = new InjectionToken('MARKED_EXTENSIONS');\n\nconst MARKED_OPTIONS = new InjectionToken('MARKED_OPTIONS');\n\nconst MERMAID_OPTIONS = new InjectionToken('MERMAID_OPTIONS');\n\nconst errorJoyPixelsNotLoaded = '[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information';\nconst errorKatexNotLoaded = '[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information';\nconst errorMermaidNotLoaded = '[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information';\nconst errorClipboardNotLoaded = '[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information';\nconst errorClipboardViewContainerRequired = '[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function';\nconst errorSrcWithoutHttpClient = '[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information';\nconst SECURITY_CONTEXT = new InjectionToken('SECURITY_CONTEXT');\nclass ExtendedRenderer extends Renderer {\n    constructor() {\n        super(...arguments);\n        this.ɵNgxMarkdownRendererExtendedForExtensions = false;\n        this.ɵNgxMarkdownRendererExtendedForMermaid = false;\n    }\n}\nclass MarkdownService {\n    get options() { return this._options; }\n    set options(value) {\n        this._options = { ...this.DEFAULT_MARKED_OPTIONS, ...value };\n    }\n    get renderer() { return this.options.renderer; }\n    set renderer(value) {\n        this.options.renderer = value;\n    }\n    constructor(clipboardOptions, extensions, options, mermaidOptions, platform, securityContext, http, sanitizer) {\n        this.clipboardOptions = clipboardOptions;\n        this.extensions = extensions;\n        this.mermaidOptions = mermaidOptions;\n        this.platform = platform;\n        this.securityContext = securityContext;\n        this.http = http;\n        this.sanitizer = sanitizer;\n        this.DEFAULT_MARKED_OPTIONS = {\n            renderer: new Renderer(),\n        };\n        this.DEFAULT_KATEX_OPTIONS = {\n            delimiters: [\n                { left: '$$', right: '$$', display: true },\n                { left: '$', right: '$', display: false },\n                { left: '\\\\(', right: '\\\\)', display: false },\n                { left: '\\\\begin{equation}', right: '\\\\end{equation}', display: true },\n                { left: '\\\\begin{align}', right: '\\\\end{align}', display: true },\n                { left: '\\\\begin{alignat}', right: '\\\\end{alignat}', display: true },\n                { left: '\\\\begin{gather}', right: '\\\\end{gather}', display: true },\n                { left: '\\\\begin{CD}', right: '\\\\end{CD}', display: true },\n                { left: '\\\\[', right: '\\\\]', display: true },\n            ],\n        };\n        this.DEFAULT_MERMAID_OPTIONS = {\n            startOnLoad: false,\n        };\n        this.DEFAULT_CLIPBOARD_OPTIONS = {\n            buttonComponent: undefined,\n        };\n        this.DEFAULT_PARSE_OPTIONS = {\n            decodeHtml: false,\n            inline: false,\n            emoji: false,\n            mermaid: false,\n            markedOptions: undefined,\n            disableSanitizer: false,\n        };\n        this.DEFAULT_RENDER_OPTIONS = {\n            clipboard: false,\n            clipboardOptions: undefined,\n            katex: false,\n            katexOptions: undefined,\n            mermaid: false,\n            mermaidOptions: undefined,\n        };\n        this._reload$ = new Subject();\n        this.reload$ = this._reload$.asObservable();\n        this.options = options;\n    }\n    parse(markdown, parseOptions = this.DEFAULT_PARSE_OPTIONS) {\n        const { decodeHtml, inline, emoji, mermaid, disableSanitizer, } = parseOptions;\n        const markedOptions = {\n            ...this.options,\n            ...parseOptions.markedOptions,\n        };\n        const renderer = markedOptions.renderer || this.renderer || new Renderer();\n        if (this.extensions) {\n            this.renderer = this.extendsRendererForExtensions(renderer);\n        }\n        if (mermaid) {\n            this.renderer = this.extendsRendererForMermaid(renderer);\n        }\n        const trimmed = this.trimIndentation(markdown);\n        const decoded = decodeHtml ? this.decodeHtml(trimmed) : trimmed;\n        const emojified = emoji ? this.parseEmoji(decoded) : decoded;\n        const marked = this.parseMarked(emojified, markedOptions, inline);\n        const sanitized = disableSanitizer ? marked : this.sanitizer.sanitize(this.securityContext, marked);\n        return sanitized || '';\n    }\n    render(element, options = this.DEFAULT_RENDER_OPTIONS, viewContainerRef) {\n        const { clipboard, clipboardOptions, katex, katexOptions, mermaid, mermaidOptions, } = options;\n        if (katex) {\n            this.renderKatex(element, {\n                ...this.DEFAULT_KATEX_OPTIONS,\n                ...katexOptions,\n            });\n        }\n        if (mermaid) {\n            this.renderMermaid(element, {\n                ...this.DEFAULT_MERMAID_OPTIONS,\n                ...this.mermaidOptions,\n                ...mermaidOptions,\n            });\n        }\n        if (clipboard) {\n            this.renderClipboard(element, viewContainerRef, {\n                ...this.DEFAULT_CLIPBOARD_OPTIONS,\n                ...this.clipboardOptions,\n                ...clipboardOptions,\n            });\n        }\n        this.highlight(element);\n    }\n    reload() {\n        this._reload$.next();\n    }\n    getSource(src) {\n        if (!this.http) {\n            throw new Error(errorSrcWithoutHttpClient);\n        }\n        return this.http\n            .get(src, { responseType: 'text' })\n            .pipe(map(markdown => this.handleExtension(src, markdown)));\n    }\n    highlight(element) {\n        if (!isPlatformBrowser(this.platform)) {\n            return;\n        }\n        if (typeof Prism === 'undefined' || typeof Prism.highlightAllUnder === 'undefined') {\n            return;\n        }\n        if (!element) {\n            element = document;\n        }\n        const noLanguageElements = element.querySelectorAll('pre code:not([class*=\"language-\"])');\n        Array.prototype.forEach.call(noLanguageElements, (x) => x.classList.add('language-none'));\n        Prism.highlightAllUnder(element);\n    }\n    decodeHtml(html) {\n        if (!isPlatformBrowser(this.platform)) {\n            return html;\n        }\n        const textarea = document.createElement('textarea');\n        textarea.innerHTML = html;\n        return textarea.value;\n    }\n    extendsRendererForExtensions(renderer) {\n        const extendedRenderer = renderer;\n        if (extendedRenderer.ɵNgxMarkdownRendererExtendedForExtensions === true) {\n            return renderer;\n        }\n        if (this.extensions?.length > 0) {\n            marked.use(...this.extensions);\n        }\n        extendedRenderer.ɵNgxMarkdownRendererExtendedForExtensions = true;\n        return renderer;\n    }\n    extendsRendererForMermaid(renderer) {\n        const extendedRenderer = renderer;\n        if (extendedRenderer.ɵNgxMarkdownRendererExtendedForMermaid === true) {\n            return renderer;\n        }\n        const defaultCode = renderer.code;\n        renderer.code = (token) => {\n            return token.lang === 'mermaid'\n                ? `<div class=\"mermaid\">${token.text}</div>`\n                : defaultCode(token);\n        };\n        extendedRenderer.ɵNgxMarkdownRendererExtendedForMermaid = true;\n        return renderer;\n    }\n    handleExtension(src, markdown) {\n        const urlProtocolIndex = src.lastIndexOf('://');\n        const urlWithoutProtocol = urlProtocolIndex > -1\n            ? src.substring(urlProtocolIndex + 4)\n            : src;\n        const lastSlashIndex = urlWithoutProtocol.lastIndexOf('/');\n        const lastUrlSegment = lastSlashIndex > -1\n            ? urlWithoutProtocol.substring(lastSlashIndex + 1).split('?')[0]\n            : '';\n        const lastDotIndex = lastUrlSegment.lastIndexOf('.');\n        const extension = lastDotIndex > -1\n            ? lastUrlSegment.substring(lastDotIndex + 1)\n            : '';\n        return !!extension && extension !== 'md'\n            ? '```' + extension + '\\n' + markdown + '\\n```'\n            : markdown;\n    }\n    parseMarked(html, markedOptions, inline = false) {\n        if (markedOptions.renderer) {\n            // clone renderer and remove extended flags otherwise\n            // marked throws an error thinking it is a renderer prop\n            const renderer = { ...markedOptions.renderer };\n            delete renderer.ɵNgxMarkdownRendererExtendedForExtensions;\n            delete renderer.ɵNgxMarkdownRendererExtendedForMermaid;\n            // remove renderer from markedOptions because if renderer is\n            // passed to marked.parse method, it will ignore all extensions\n            delete markedOptions.renderer;\n            marked.use({ renderer });\n        }\n        return inline\n            ? marked.parseInline(html, markedOptions)\n            : marked.parse(html, markedOptions);\n    }\n    parseEmoji(html) {\n        if (!isPlatformBrowser(this.platform)) {\n            return html;\n        }\n        if (typeof joypixels === 'undefined' || typeof joypixels.shortnameToUnicode === 'undefined') {\n            throw new Error(errorJoyPixelsNotLoaded);\n        }\n        return joypixels.shortnameToUnicode(html);\n    }\n    renderKatex(element, options) {\n        if (!isPlatformBrowser(this.platform)) {\n            return;\n        }\n        if (typeof katex === 'undefined' || typeof renderMathInElement === 'undefined') {\n            throw new Error(errorKatexNotLoaded);\n        }\n        renderMathInElement(element, options);\n    }\n    renderClipboard(element, viewContainerRef, options) {\n        if (!isPlatformBrowser(this.platform)) {\n            return;\n        }\n        if (typeof ClipboardJS === 'undefined') {\n            throw new Error(errorClipboardNotLoaded);\n        }\n        if (!viewContainerRef) {\n            throw new Error(errorClipboardViewContainerRequired);\n        }\n        const { buttonComponent, buttonTemplate, } = options;\n        // target every <pre> elements\n        const preElements = element.querySelectorAll('pre');\n        for (let i = 0; i < preElements.length; i++) {\n            const preElement = preElements.item(i);\n            // create <pre> wrapper element\n            const preWrapperElement = document.createElement('div');\n            preWrapperElement.style.position = 'relative';\n            preElement.parentNode.insertBefore(preWrapperElement, preElement);\n            preWrapperElement.appendChild(preElement);\n            // create toolbar element\n            const toolbarWrapperElement = document.createElement('div');\n            toolbarWrapperElement.classList.add('markdown-clipboard-toolbar');\n            toolbarWrapperElement.style.position = 'absolute';\n            toolbarWrapperElement.style.top = '.5em';\n            toolbarWrapperElement.style.right = '.5em';\n            toolbarWrapperElement.style.zIndex = '1';\n            preWrapperElement.insertAdjacentElement('beforeend', toolbarWrapperElement);\n            // register listener to show/hide toolbar\n            preWrapperElement.onmouseenter = () => toolbarWrapperElement.classList.add('hover');\n            preWrapperElement.onmouseleave = () => toolbarWrapperElement.classList.remove('hover');\n            // declare embeddedViewRef holding variable\n            let embeddedViewRef;\n            // use provided component via input property\n            // or provided via ClipboardOptions provider\n            if (buttonComponent) {\n                const componentRef = viewContainerRef.createComponent(buttonComponent);\n                embeddedViewRef = componentRef.hostView;\n                componentRef.changeDetectorRef.markForCheck();\n            }\n            // use provided template via input property\n            else if (buttonTemplate) {\n                embeddedViewRef = viewContainerRef.createEmbeddedView(buttonTemplate);\n            }\n            // use default component\n            else {\n                const componentRef = viewContainerRef.createComponent(ClipboardButtonComponent);\n                embeddedViewRef = componentRef.hostView;\n                componentRef.changeDetectorRef.markForCheck();\n            }\n            // declare clipboard instance variable\n            let clipboardInstance;\n            // attach clipboard.js to root node\n            embeddedViewRef.rootNodes.forEach((node) => {\n                toolbarWrapperElement.appendChild(node);\n                clipboardInstance = new ClipboardJS(node, { text: () => preElement.innerText });\n            });\n            // destroy clipboard instance when view is destroyed\n            embeddedViewRef.onDestroy(() => clipboardInstance.destroy());\n        }\n    }\n    renderMermaid(element, options = this.DEFAULT_MERMAID_OPTIONS) {\n        if (!isPlatformBrowser(this.platform)) {\n            return;\n        }\n        if (typeof mermaid === 'undefined' || typeof mermaid.initialize === 'undefined') {\n            throw new Error(errorMermaidNotLoaded);\n        }\n        const mermaidElements = element.querySelectorAll('.mermaid');\n        if (mermaidElements.length === 0) {\n            return;\n        }\n        mermaid.initialize(options);\n        mermaid.run({ nodes: mermaidElements });\n    }\n    trimIndentation(markdown) {\n        if (!markdown) {\n            return '';\n        }\n        let indentStart;\n        return markdown\n            .split('\\n')\n            .map(line => {\n            let lineIdentStart = indentStart;\n            if (line.length > 0) {\n                lineIdentStart = isNaN(lineIdentStart)\n                    ? line.search(/\\S|$/)\n                    : Math.min(line.search(/\\S|$/), lineIdentStart);\n            }\n            if (isNaN(indentStart)) {\n                indentStart = lineIdentStart;\n            }\n            return lineIdentStart\n                ? line.substring(lineIdentStart)\n                : line;\n        }).join('\\n');\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownService, deps: [{ token: CLIPBOARD_OPTIONS, optional: true }, { token: MARKED_EXTENSIONS, optional: true }, { token: MARKED_OPTIONS, optional: true }, { token: MERMAID_OPTIONS, optional: true }, { token: PLATFORM_ID }, { token: SECURITY_CONTEXT }, { token: i1.HttpClient, optional: true }, { token: i2.DomSanitizer }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownService, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [CLIPBOARD_OPTIONS]\n                }, {\n                    type: Optional\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [MARKED_EXTENSIONS]\n                }, {\n                    type: Optional\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [MARKED_OPTIONS]\n                }, {\n                    type: Optional\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [MERMAID_OPTIONS]\n                }, {\n                    type: Optional\n                }] }, { type: Object, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }, { type: i0.SecurityContext, decorators: [{\n                    type: Inject,\n                    args: [SECURITY_CONTEXT]\n                }] }, { type: i1.HttpClient, decorators: [{\n                    type: Optional\n                }] }, { type: i2.DomSanitizer }] });\n\nclass MarkdownComponent {\n    get disableSanitizer() { return this._disableSanitizer; }\n    set disableSanitizer(value) { this._disableSanitizer = this.coerceBooleanProperty(value); }\n    get inline() { return this._inline; }\n    set inline(value) { this._inline = this.coerceBooleanProperty(value); }\n    // Plugin - clipboard\n    get clipboard() { return this._clipboard; }\n    set clipboard(value) { this._clipboard = this.coerceBooleanProperty(value); }\n    // Plugin - emoji\n    get emoji() { return this._emoji; }\n    set emoji(value) { this._emoji = this.coerceBooleanProperty(value); }\n    // Plugin - katex\n    get katex() { return this._katex; }\n    set katex(value) { this._katex = this.coerceBooleanProperty(value); }\n    // Plugin - mermaid\n    get mermaid() { return this._mermaid; }\n    set mermaid(value) { this._mermaid = this.coerceBooleanProperty(value); }\n    // Plugin - lineHighlight\n    get lineHighlight() { return this._lineHighlight; }\n    set lineHighlight(value) { this._lineHighlight = this.coerceBooleanProperty(value); }\n    // Plugin - lineNumbers\n    get lineNumbers() { return this._lineNumbers; }\n    set lineNumbers(value) { this._lineNumbers = this.coerceBooleanProperty(value); }\n    // Plugin - commandLine\n    get commandLine() { return this._commandLine; }\n    set commandLine(value) { this._commandLine = this.coerceBooleanProperty(value); }\n    constructor(element, markdownService, viewContainerRef) {\n        this.element = element;\n        this.markdownService = markdownService;\n        this.viewContainerRef = viewContainerRef;\n        // Event emitters\n        this.error = new EventEmitter();\n        this.load = new EventEmitter();\n        this.ready = new EventEmitter();\n        this._clipboard = false;\n        this._commandLine = false;\n        this._disableSanitizer = false;\n        this._emoji = false;\n        this._inline = false;\n        this._katex = false;\n        this._lineHighlight = false;\n        this._lineNumbers = false;\n        this._mermaid = false;\n        this.destroyed$ = new Subject();\n    }\n    ngOnChanges() {\n        this.loadContent();\n    }\n    loadContent() {\n        if (this.data != null) {\n            this.handleData();\n            return;\n        }\n        if (this.src != null) {\n            this.handleSrc();\n            return;\n        }\n    }\n    ngAfterViewInit() {\n        if (!this.data && !this.src) {\n            this.handleTransclusion();\n        }\n        this.markdownService.reload$\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe(() => this.loadContent());\n    }\n    ngOnDestroy() {\n        this.destroyed$.next();\n        this.destroyed$.complete();\n    }\n    async render(markdown, decodeHtml = false) {\n        const parsedOptions = {\n            decodeHtml,\n            inline: this.inline,\n            emoji: this.emoji,\n            mermaid: this.mermaid,\n            disableSanitizer: this.disableSanitizer,\n        };\n        const renderOptions = {\n            clipboard: this.clipboard,\n            clipboardOptions: this.getClipboardOptions(),\n            katex: this.katex,\n            katexOptions: this.katexOptions,\n            mermaid: this.mermaid,\n            mermaidOptions: this.mermaidOptions,\n        };\n        const parsed = await this.markdownService.parse(markdown, parsedOptions);\n        this.element.nativeElement.innerHTML = parsed;\n        this.handlePlugins();\n        this.markdownService.render(this.element.nativeElement, renderOptions, this.viewContainerRef);\n        this.ready.emit();\n    }\n    coerceBooleanProperty(value) {\n        return value != null && `${String(value)}` !== 'false';\n    }\n    getClipboardOptions() {\n        if (this.clipboardButtonComponent || this.clipboardButtonTemplate) {\n            return {\n                buttonComponent: this.clipboardButtonComponent,\n                buttonTemplate: this.clipboardButtonTemplate,\n            };\n        }\n        return undefined;\n    }\n    handleData() {\n        this.render(this.data);\n    }\n    handleSrc() {\n        this.markdownService\n            .getSource(this.src)\n            .subscribe({\n            next: markdown => {\n                this.render(markdown).then(() => {\n                    this.load.emit(markdown);\n                });\n            },\n            error: (error) => this.error.emit(error),\n        });\n    }\n    handleTransclusion() {\n        this.render(this.element.nativeElement.innerHTML, true);\n    }\n    handlePlugins() {\n        if (this.commandLine) {\n            this.setPluginClass(this.element.nativeElement, PrismPlugin.CommandLine);\n            this.setPluginOptions(this.element.nativeElement, {\n                dataFilterOutput: this.filterOutput,\n                dataHost: this.host,\n                dataPrompt: this.prompt,\n                dataOutput: this.output,\n                dataUser: this.user,\n            });\n        }\n        if (this.lineHighlight) {\n            this.setPluginOptions(this.element.nativeElement, { dataLine: this.line, dataLineOffset: this.lineOffset });\n        }\n        if (this.lineNumbers) {\n            this.setPluginClass(this.element.nativeElement, PrismPlugin.LineNumbers);\n            this.setPluginOptions(this.element.nativeElement, { dataStart: this.start });\n        }\n    }\n    setPluginClass(element, plugin) {\n        const preElements = element.querySelectorAll('pre');\n        for (let i = 0; i < preElements.length; i++) {\n            const classes = plugin instanceof Array ? plugin : [plugin];\n            preElements.item(i).classList.add(...classes);\n        }\n    }\n    setPluginOptions(element, options) {\n        const preElements = element.querySelectorAll('pre');\n        for (let i = 0; i < preElements.length; i++) {\n            Object.keys(options).forEach(option => {\n                const attributeValue = options[option];\n                if (attributeValue) {\n                    const attributeName = this.toLispCase(option);\n                    preElements.item(i).setAttribute(attributeName, attributeValue.toString());\n                }\n            });\n        }\n    }\n    toLispCase(value) {\n        const upperChars = value.match(/([A-Z])/g);\n        if (!upperChars) {\n            return value;\n        }\n        let str = value.toString();\n        for (let i = 0, n = upperChars.length; i < n; i++) {\n            str = str.replace(new RegExp(upperChars[i]), '-' + upperChars[i].toLowerCase());\n        }\n        if (str.slice(0, 1) === '-') {\n            str = str.slice(1);\n        }\n        return str;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownComponent, deps: [{ token: i0.ElementRef }, { token: MarkdownService }, { token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.0.0\", type: MarkdownComponent, isStandalone: true, selector: \"markdown, [markdown]\", inputs: { data: \"data\", src: \"src\", disableSanitizer: \"disableSanitizer\", inline: \"inline\", clipboard: \"clipboard\", clipboardButtonComponent: \"clipboardButtonComponent\", clipboardButtonTemplate: \"clipboardButtonTemplate\", emoji: \"emoji\", katex: \"katex\", katexOptions: \"katexOptions\", mermaid: \"mermaid\", mermaidOptions: \"mermaidOptions\", lineHighlight: \"lineHighlight\", line: \"line\", lineOffset: \"lineOffset\", lineNumbers: \"lineNumbers\", start: \"start\", commandLine: \"commandLine\", filterOutput: \"filterOutput\", host: \"host\", prompt: \"prompt\", output: \"output\", user: \"user\" }, outputs: { error: \"error\", load: \"load\", ready: \"ready\" }, usesOnChanges: true, ngImport: i0, template: '<ng-content></ng-content>', isInline: true }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownComponent, decorators: [{\n            type: Component,\n            args: [{\n                    // eslint-disable-next-line @angular-eslint/component-selector\n                    selector: 'markdown, [markdown]',\n                    template: '<ng-content></ng-content>',\n                }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: MarkdownService }, { type: i0.ViewContainerRef }], propDecorators: { data: [{\n                type: Input\n            }], src: [{\n                type: Input\n            }], disableSanitizer: [{\n                type: Input\n            }], inline: [{\n                type: Input\n            }], clipboard: [{\n                type: Input\n            }], clipboardButtonComponent: [{\n                type: Input\n            }], clipboardButtonTemplate: [{\n                type: Input\n            }], emoji: [{\n                type: Input\n            }], katex: [{\n                type: Input\n            }], katexOptions: [{\n                type: Input\n            }], mermaid: [{\n                type: Input\n            }], mermaidOptions: [{\n                type: Input\n            }], lineHighlight: [{\n                type: Input\n            }], line: [{\n                type: Input\n            }], lineOffset: [{\n                type: Input\n            }], lineNumbers: [{\n                type: Input\n            }], start: [{\n                type: Input\n            }], commandLine: [{\n                type: Input\n            }], filterOutput: [{\n                type: Input\n            }], host: [{\n                type: Input\n            }], prompt: [{\n                type: Input\n            }], output: [{\n                type: Input\n            }], user: [{\n                type: Input\n            }], error: [{\n                type: Output\n            }], load: [{\n                type: Output\n            }], ready: [{\n                type: Output\n            }] } });\n\nclass MarkdownPipe {\n    constructor(domSanitizer, elementRef, markdownService, viewContainerRef, zone) {\n        this.domSanitizer = domSanitizer;\n        this.elementRef = elementRef;\n        this.markdownService = markdownService;\n        this.viewContainerRef = viewContainerRef;\n        this.zone = zone;\n    }\n    async transform(value, options) {\n        if (value == null) {\n            return '';\n        }\n        if (typeof value !== 'string') {\n            console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof value}]`);\n            return value;\n        }\n        const markdown = await this.markdownService.parse(value, options);\n        this.zone.onStable\n            .pipe(first())\n            .subscribe(() => this.markdownService.render(this.elementRef.nativeElement, options, this.viewContainerRef));\n        return this.domSanitizer.bypassSecurityTrustHtml(markdown);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownPipe, deps: [{ token: i2.DomSanitizer }, { token: i0.ElementRef }, { token: MarkdownService }, { token: i0.ViewContainerRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Pipe }); }\n    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownPipe, isStandalone: true, name: \"markdown\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'markdown',\n                }]\n        }], ctorParameters: () => [{ type: i2.DomSanitizer }, { type: i0.ElementRef }, { type: MarkdownService }, { type: i0.ViewContainerRef }, { type: i0.NgZone }] });\n\nfunction provideMarkdown(markdownModuleConfig) {\n    return [\n        MarkdownService,\n        markdownModuleConfig?.loader ?? [],\n        markdownModuleConfig?.clipboardOptions ?? [],\n        markdownModuleConfig?.markedOptions ?? [],\n        markdownModuleConfig?.mermaidOptions ?? [],\n        markdownModuleConfig?.markedExtensions ?? [],\n        {\n            provide: SECURITY_CONTEXT,\n            useValue: markdownModuleConfig?.sanitize ?? SecurityContext.HTML,\n        },\n    ];\n}\n\n;\n;\nconst sharedDeclarations = [\n    ClipboardButtonComponent,\n    LanguagePipe,\n    MarkdownComponent,\n    MarkdownPipe,\n];\nclass MarkdownModule {\n    static forRoot(markdownModuleConfig) {\n        return {\n            ngModule: MarkdownModule,\n            providers: [\n                provideMarkdown(markdownModuleConfig),\n            ],\n        };\n    }\n    static forChild() {\n        return {\n            ngModule: MarkdownModule,\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownModule, imports: [ClipboardButtonComponent,\n            LanguagePipe,\n            MarkdownComponent,\n            MarkdownPipe], exports: [ClipboardButtonComponent,\n            LanguagePipe,\n            MarkdownComponent,\n            MarkdownPipe] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownModule }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MarkdownModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: sharedDeclarations,\n                    exports: sharedDeclarations,\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CLIPBOARD_OPTIONS, ClipboardButtonComponent, ExtendedRenderer, KatexSpecificOptions, LanguagePipe, MARKED_EXTENSIONS, MARKED_OPTIONS, MERMAID_OPTIONS, MarkdownComponent, MarkdownModule, MarkdownPipe, MarkdownService, PrismPlugin, SECURITY_CONTEXT, errorClipboardNotLoaded, errorClipboardViewContainerRequired, errorJoyPixelsNotLoaded, errorKatexNotLoaded, errorMermaidNotLoaded, errorSrcWithoutHttpClient, provideMarkdown };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}